<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <style type="text/css">
        .column1{width: 450px;height:auto}
        .pGrid tr, .pGrid td{border-style: none !important; vertical-align: top}
    </style>
    
    <ui:composition template="/WEB-INF/facelets/templates/#{mbLogin.ambito}/indexTemplate.xhtml">
        <ui:define name="title">
            <h:outputText value="#{bundle.NombreAplicacion}" />
        </ui:define>
        <ui:define name="content">
            <f:metadata>  
                <f:event listener="#{mbCursosPublic.iniciar}" type="preRenderView"></f:event>  
            </f:metadata> 
            <h:form style="text-align: left">
                <br/>
                <p:dataTable value="#{mbCursosPublic.items}" var="e" id="calseList" rows="5" 
                             filteredValue="#{mbClase.listadoFilter}"
                             paginator="true"
                             paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,15" >
                    <f:facet name="header">
                        Actividades disponibles
                        <p:commandButton icon="ui-icon-refresh" value="Listar" action="#{mbCursosPublic.prepareList}" update="calseList" style="margin-left: 10px"/>
                    </f:facet>                    
                    <p:column headerText="Buscar por nombre" sortBy="#{e.actividadPlan.nombre}" filterBy="#{e.actividadPlan.nombre}" filterMatchMode="contains" >
                            
                            <p:outputLabel value="#{e.actividadPlan.nombre}"  style="font-size: 120%"/>

                            <h:panelGrid columns="2" style="width: 100%" columnClasses="column1" styleClass="pGrid" >     
                                <p:column style="border: none">
                                    <p:outputLabel value="Orientación: " style="font-weight: bold; font-size: 80%"/>
                                    <p:outputLabel value="#{e.orientacion.nombre}" style="font-size: 80%"/>
                                    <br/>
                                    <p:outputLabel value="Período de vigencia: " style="font-weight: bold; font-size: 80%"/>
                                    <p:outputLabel value="Desde el #{e.strFechaIniVig} hasta el #{e.strFechaFinVig}" style="font-size: 80%"/>
                                    <br/>
                                    <p:outputLabel value="Carga horaria: " style="font-weight: bold; font-size: 80%"/>
                                    <p:outputLabel value="#{e.actividadPlan.cargaHoraria} horas" style="font-size: 80%"/>
                                    <br/>
                                    <p:outputLabel value="Docente: " style="font-weight: bold; font-size: 80%"/>
                                    <p:outputLabel value="#{e.docente.apYNom}" style="font-size: 80%"/>
                                    <br/>
                                    <p:outputLabel value="Sede: " style="font-weight: bold; font-size: 80%"/>
                                    <p:outputLabel value="#{e.sede.nombre}" style="font-size: 80%"/>
                                    <br/>
                                    <p:outputLabel value="Coordinador: " style="font-weight: bold; font-size: 80%"/>
                                    <p:outputLabel value="#{e.coordinador.apYNom}" style="font-size: 80%"/>
                                    <br/><br/>
                                    <p:commandButton action="#{mbCursosPublic.prepareInscripcion}" value="Inscripción" style="font-size: 75%">
                                        <f:setPropertyActionListener value="#{e}" target="#{mbCursosPublic.current}" />
                                    </p:commandButton>
                                </p:column>
                                <p:column style="border: none" >
                                    <p:outputLabel value="Resumen académico:" style="font-weight: bold; font-size: 80%"/>
                                    <br/>
                                    <p:outputLabel value="#{e.actividadPlan.resumenAcademico}" style="font-size: 80%; margin-right: 40px"/>
                                    <br/>
                                    <p:link value="Ver Más" href="#{e.actividadPlan.link}" target="_blank" style="font-size: 80%" />
                                </p:column>
                            </h:panelGrid>
                    </p:column>
                </p:dataTable>

            </h:form>
        </ui:define>

    </ui:composition>
</html>


